首先是裸奔的demo
    启动参数
        java -jar gateway-server-0.0.1-SNAPSHOT.jar 这里会启动自适应的模式
    执行命令
        jmap
            jmap -heap 查看堆的信息
                Parallel GC with 13 thread(s) 默认是并行gc，13=16*5/8+3

                MinHeapFreeRatio         = 0 堆的最小空闲空间所占堆的比例为0，就是这个堆不会再增大了
                MaxHeapFreeRatio         = 100 类似的，这个堆也不会缩小了。。
                MaxHeapSize              = 8573157376 (8176.0MB) 默认是系统的25%
                NewSize                  = 178782208 (170.5MB) 年轻代min
                MaxNewSize               = 2857369600 (2725.0MB) 年轻代max
                OldSize                  = 358088704 (341.5MB)
                NewRatio                 = 2  young：old=1:2
                SurvivorRatio            = 8  eden：survivor：survivor=8:1:1
                MetaspaceSize            = 21807104 (20.796875MB) 非堆的元数据区min
                CompressedClassSpaceSize = 1073741824 (1024.0MB)
                MaxMetaspaceSize         = 17592186044415 MB  就类似无上限了。。
                G1HeapRegionSize         = 0 (0.0MB)
            jmap -histo:live 打印存活对象的信息，占用空间的大小倒序排列
            jstat -gc 12360 1000 打印gc信息，间隔1s，同时启动sb压测工具压测
                S0C    S1C    S0U    S1U      EC       EU        OC         OU        MC      MU      CCSC   CCSU      YGC     YGCT    FGC    FGCT     GCT
                s0容量  s1容量  s0使用量        eden容量   使用量     old容量    使用量    元数据容量 使用量                  young次数   耗时  full次数  耗时      总累计耗时
                单位都是千字节
                如下的gc都很快。。。
                18944.0 17920.0  0.0    0.0   339968.0 12012.7   355328.0   17363.0   37208.0 35393.9 4952.0 4531.1      7    0.031   3      0.155    0.186
                18944.0 17920.0  0.0    0.0   339968.0 207366.4  355328.0   17363.0   37208.0 35393.9 4952.0 4531.1      7    0.031   3      0.155    0.186
                                                       这里eden回收掉了
                18944.0 19456.0 1280.2  0.0   482816.0 104045.6  355328.0   17371.0   38488.0 36617.0 4952.0 4545.0      8    0.032   3      0.155    0.188
                                进到了s0                                                                                 young执行了一次gc
                18944.0 19456.0 1280.2  0.0   482816.0 370401.1  355328.0   17371.0   38488.0 36617.0 4952.0 4545.0      8    0.032   3      0.155    0.188
                                                        又回收掉了
                19456.0 19456.0  0.0   1392.2 482816.0 138959.0  355328.0   17379.0   38488.0 36670.5 4952.0 4545.0      9    0.034   3      0.155    0.189
                                    s0 s1互换了角色                           发生了晋升          ----这里增加了啥-----
                19456.0 19456.0  0.0   1392.2 482816.0 403811.8  355328.0   17379.0   38488.0 36670.5 4952.0 4545.0      9    0.034   3      0.155    0.189
                1536.0 19456.0 1296.2  0.0   576000.0 194127.1  355328.0   17387.0   38488.0 36677.0 4952.0 4545.0     10    0.035   3      0.155    0.190
                               这里s0、eden的容量变化了。。。TODO 因为自适应所以动态变化了？
                1536.0 19456.0 1296.2  0.0   576000.0 451840.1  355328.0   17387.0   38488.0 36677.0 4952.0 4545.0     10    0.035   3      0.155    0.190
                18944.0 19456.0  0.0   1328.2 576000.0 160057.1  355328.0   17387.0   38488.0 36683.1 4952.0 4545.0     11    0.036   3      0.155    0.192
                18944.0 19456.0  0.0   1328.2 576000.0 416298.9  355328.0   17387.0   38488.0 36683.1 4952.0 4545.0     11    0.036   3      0.155    0.192
                1536.0 18432.0 1280.2  0.0   650752.0 114359.1  355328.0   17387.0   38488.0 36683.5 4952.0 4545.0     12    0.037   3      0.155    0.193
                1536.0 18432.0 1280.2  0.0   650752.0 373210.8  355328.0   17387.0   38488.0 36683.5 4952.0 4545.0     12    0.037   3      0.155    0.193
                1536.0 18432.0 1280.2  0.0   650752.0 650695.4  355328.0   17387.0   38488.0 36683.5 4952.0 4545.0     12    0.037   3      0.155    0.193
                17920.0 18432.0  0.0   1344.2 651264.0 267944.6  355328.0   17387.0   38488.0 36684.1 4952.0 4545.0     13    0.039   3      0.155    0.194
                17920.0 18432.0  0.0   1344.2 651264.0 548878.5  355328.0   17387.0   38488.0 36684.1 4952.0 4545.0     13    0.039   3      0.155    0.194
                4096.0 17408.0 1280.2  0.0   706560.0 169067.7  355328.0   17387.0   38488.0 36685.3 4952.0 4545.0     14    0.040   3      0.155    0.195
                4096.0 17408.0 1280.2  0.0   706560.0 447183.9  355328.0   17387.0   38488.0 36685.3 4952.0 4545.0     14    0.040   3      0.155    0.195

 to be continued。。。。